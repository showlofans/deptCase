如何查看有哪些联系人导入成功了呢
查找案件列表的同时，统计案件联系人数。显示在首页

导入日志
dept_case
客户名称 case_customer
贷款日期 dept_date
到期日期 dept_end_date
贷款金额 dept_amount
贷款余额 dept_balance
结欠利息 dept_profit
证件号码 dc_id
机构名称 case_org
联系电话 customer_contact
客户地址	customer_location
保证人名称 case_warrantor
贷款用途 dept_for
保证方式（信用。一般）
借据号


案件添加（导入）时间
案件管理人id
案件最后一次更新时间
最后一次更新日志

亲属信息
身份证号
名字
户籍关系导入（不允许修改）
户籍地址

后面编辑添加，联系人昵称，联系方式，备注关系,


联系人表
导入的联系人信息（不可改）
联系人名字     contact_name
联系人身份证号	contact_dcid
户籍关系	household_ship
(户籍地址)	household_location
其他的联系人信息（手动编辑添加）
其他关系(称呼)	other_contact_ship
联系人号码	contact_number
现在的联系地址	contact_location
备注信息	contact_remark
户主身份证号	household_dcid(户主身份证号)
（如果一个人只能归到一个户主名下，那就可以用这个去绑定一家人的关系）

案件联系人绑定表


联系人的证件号码是唯一的。添加联系人的时候要判断联系人的唯一性

案件联系人绑定表 case_bind_contact
查询联系人和案件有没有绑定

满足导入案件和联系人的需求
导入联系人的时候，
能根据联系人的证件号码列表，找到与证件号码匹配的案件。
然后循环把找到的案件，配置上（绑定类型）
每一个案件，对应

一个案件里面只有一个证件号码，
如果一个案件。

一堆证件号码，一堆案件
怎么通过联系人去找他家里的联系人呢。

导入联系人逻辑
1.先逐行添加联系人，把同一行的联系人按照一样的户主证件号去批量添加联系人
2.然后取出与案件相关联的联系人，放在案件和联系人绑定表中

一个用户可能有多个案件
添加案件直属关联人绑定
1.看某个身份证号与该案件绑定是否存在
2.然后看有多少个案件的客户证件号码匹配，然后
总：添加直连绑定的前提条件是，有证件号码，与案件的证件号码一致（在案件表里面找案件，这些案件，要求之前没有直连绑定过该证件号码）
根据证件号码筛选出没有直连绑定的案件列表，进行绑定
找出来的是待直连绑定的案件列表，然后完成一个直连绑定

（查询案件联系人列表，就先找到联系人的户主身份证号，然后根据这个身份证号码，去找到所有与该户主相关联的户主联系人基本信息）
找到与相关的户主联系人信息，找到与案件相关联的
查询案件联系人列表
通过案件id，找到这个案件的直接关联人和添加联系人信息-列表1，
通过案件身份证号找到其它联系人中与这个身份证号不符但是属于同一户主的户主关联人-列表2
合并两个列表

绑定表，添加与案件数一致的行数（其他联系人必须户主一致）

联系人之间的关系
1.是一个案子的关联人。找出这个证件号码的所有案件的联系人
2.导入户主案件时，在同一行中。户主是同一个人

导入日志记录和查看。


导入的是户主关系：（一定要有户主这一列）

导入的联系人，与在案件中直接添加，联系人的绑定方式是不一样的()


数据库
联系人
查找联系人：通过案件id，找到这个案件的直接关联人和添加联系人信息-列表1，
通过案件身份证号找到其它联系人中与这个身份证号不符但是属于同一户主的户主关联人-列表2

案件
判定是否需要添加直连绑定：有证件号码，与案件的证件号码一致（在案件表里面找案件，这些案件，要求之前没有直连绑定过该证件号码）

添加绑定的条件：
每一个证件号码，都找一遍案件列表，取出证件号码和案件id

根据证件号码列表，找到案件列表
筛选出没有直连绑定的案件列表
select id,dc_id from dept_case where dc_id in (13699562589,13699562583)
and id not in(select case_id from case_bind_contact where contact_dcid in (13699562589,13699562583))



添加绑定之前，先判断有没有绑定。如果没有，就可以添加绑定
批量添加绑定，也是先判断，然后再添加到列表



select * from dept_case dc inner join case_bind_contact cbc
on dc.id=cbc.case_id
where 

1,2,3   ab



在所有联系人中找到一致的，然后按照证件号码和案件

一行里面两个都有案件，就要添加两个绑定（将案件id和身份证号找出来，就是需要绑定的）
如果其中一个有两个案件，一个只有一个，就需要添加三个绑定
select id,dc_id from dept_case dc  where dc.dc_id in (13699562589,13699562583)
and dc.dc_id not in (select cbc.case_id from case_bind_contact cbc where dc.id=cbc.case_id and dc.dc_id=cbc.contact_dcid and cbc.bind_type=0)


批量添加直连绑定。
添加联系人信息（含户主信息）

找出符合案件证件号码，筛选出未绑定的



